(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{4438:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(5155),r=a(2115),n=a(5695),i=a(6766),o=a(5647);let l="https://your-project.supabase.co",d="your-anon-key-here";if(!l||!d)throw Error("Missing Supabase environment variables");let u=(0,o.UU)(l,d),c={async signIn(e,t){let{data:a,error:s}=await u.auth.signInWithPassword({email:e,password:t});if(s)throw s;return a},async signUp(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{data:s,error:r}=await u.auth.signUp({email:e,password:t,options:{data:a}});if(r)throw r;return s},async signOut(){let{error:e}=await u.auth.signOut();if(e)throw e},async getCurrentUser(){let{data:{user:e}}=await u.auth.getUser();return e},async getCurrentSession(){let{data:{session:e}}=await u.auth.getSession();return e},validateLegacyPassword:async e=>"mmc_pulmo"===e,async isAuthenticated(){return!!await this.getCurrentSession()}};function m(){let[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[l,d]=(0,r.useState)(!1),u=(0,n.useRouter)(),m=async t=>{t.preventDefault(),d(!0),o("");try{await c.validateLegacyPassword(e)?(sessionStorage.setItem("loginData",JSON.stringify({isLoggedIn:!0,timestamp:Date.now(),legacy:!0})),u.push("/scheduler")):o("Incorrect password. Please try again.")}catch(e){o("Login failed. Please try again.")}finally{d(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-mmc-blue to-mmc-dark-blue p-5",children:(0,s.jsxs)("div",{className:"bg-white p-12 rounded-2xl shadow-2xl w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(i.default,{src:"/Makati_Medical_Center_Logo.png",alt:"Makati Medical Center",width:200,height:100,className:"mx-auto mb-6",priority:!0}),(0,s.jsx)("h1",{className:"text-mmc-blue text-3xl font-bold mb-2",children:"Makati Medical Center"}),(0,s.jsx)("p",{className:"text-gray-600 text-base",children:"Staff Scheduler - Pulmonary Laboratory Division"})]}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-gray-700 font-semibold text-sm mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",value:e,onChange:e=>t(e.target.value),required:!0,autoComplete:"current-password",className:"w-full px-3 py-4 border-2 border-gray-200 rounded-lg text-base transition-all duration-300 focus:border-mmc-blue focus:outline-none focus:bg-white bg-gray-50",disabled:l})]}),a&&(0,s.jsx)("div",{className:"text-red-600 text-sm text-center p-3 bg-red-50 border border-red-200 rounded-lg",children:a}),(0,s.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-mmc-blue to-mmc-dark-blue text-white py-4 rounded-lg text-base font-semibold transition-all duration-300 hover:transform hover:-translate-y-1 hover:shadow-lg disabled:opacity-50 disabled:transform-none",children:l?"Logging in...":"Login"})]})]})})}},8290:(e,t,a)=>{Promise.resolve().then(a.bind(a,4438))}},e=>{e.O(0,[302,441,964,358],()=>e(e.s=8290)),_N_E=e.O()}]);